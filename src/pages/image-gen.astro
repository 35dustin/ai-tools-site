---
import BaseLayout from '../layouts/BaseLayout.astro';
import ReviewCard from '../components/ReviewCard.astro';
import { getCollection } from 'astro:content';

const reviews = (await getCollection('reviews'))
  .filter(r => r.data.category === 'image-gen')
  .sort((a, b) => new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime());
---

<BaseLayout title="Best AI Image Generators — Reviews & Comparisons" description="Honest reviews of AI image generators. We compare Midjourney, DALL-E, Stable Diffusion, and free alternatives.">
  <section class="max-w-7xl mx-auto px-4 sm:px-6 py-12">
    <div class="mb-10">
      <p class="text-accent font-semibold text-sm uppercase tracking-wider mb-2">Category</p>
      <h1 class="text-3xl sm:text-4xl font-extrabold mb-3">AI Image Generators</h1>
      <p class="text-text-secondary max-w-2xl">From photorealistic renders to stylized art — we test AI image generators on quality, speed, control, and value. Free and paid options compared.</p>
    </div>
    {reviews.length > 0 ? (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {reviews.map(review => (
          <ReviewCard
            title={review.data.title}
            description={review.data.description}
            slug={review.id}
            category={review.data.category}
            rating={review.data.rating}
            image={review.data.image}
            featured={review.data.featured}
          />
        ))}
      </div>
    ) : (
      <p class="text-text-muted">Reviews coming soon. Check back shortly.</p>
    )}
  </section>
</BaseLayout>
